{% load static %}

<link rel="stylesheet" href="{% static 'calculator/main.css' %}">

<div class="calculator">
    <form action="/" method="post">
        {% csrf_token %}
        <input name="calculation" id="calculation" class="input" placeholder="{{ prev_calculation }}" autofocus required>
        <div class="buttons">
            <div class="row">
                <button type="button" class="button digit" value="1" symbol="1" onclick="type_symbol(this)">1</button>
                <button type="button" class="button digit" value="2" symbol="2" onclick="type_symbol(this)">2</button>
                <button type="button" class="button digit" value="3" symbol="3" onclick="type_symbol(this)">3</button>
                <button type="button" class="button" value="+" symbol="+" onclick="type_symbol(this)">+</button>
            </div>
            <div class="row">
                <button type="button" class="button digit" value="4" symbol="4" onclick="type_symbol(this)">4</button>
                <button type="button" class="button digit" value="5" symbol="5" onclick="type_symbol(this)">5</button>
                <button type="button" class="button digit" value="6" symbol="6" onclick="type_symbol(this)">6</button>
                <button type="button" class="button" value="-" symbol="-" onclick="type_symbol(this)">-</button>
            </div>
            <div class="row">
                <button type="button" class="button digit" value="7" symbol="7" onclick="type_symbol(this)">7</button>
                <button type="button" class="button digit" value="8" symbol="8" onclick="type_symbol(this)">8</button>
                <button type="button" class="button digit" value="9" symbol="9" onclick="type_symbol(this)">9</button>
                <button type="button" class="button" value="*" symbol="*" onclick="type_symbol(this)">*</button>
            </div>
            <div class="row">
                <button type="button" class="button" value="(" symbol="(" onclick="type_symbol(this)">(</button>
                <button type="button" class="button digit" value="0" symbol="0" onclick="type_symbol(this)">0</button>
                <button type="button" class="button" value=")" symbol=")" onclick="type_symbol(this)">)</button>
                <button type="button" class="button" value="/" symbol="/" onclick="type_symbol(this)">/</button>
            </div>
            <div class="row">
                <button type="button" class="button" value="." symbol="." onclick="type_symbol(this)">.</button>
                <button type="button" class="button clear" value="clear" onclick="clear_input()">Clear</button>
                <button type="button" class="button" value="^" symbol="^" onclick="type_symbol(this)">^</button>
            </div>
            <div class="row">
                <input type="submit" class="button enter" value="=">
            </div>
        </div>
    </form>
</div>

<div class="results">
    <div class="res cpp_results">
        <span class="span">C++</span>
        </br>
        <span class="answer">{{ cpp_result }}</span>
        </br>
        <span class="span">Total time (ms): {{ cpp_overall_time }}</span>
        </br>
        <span class="span">Execution time (ms): {{ cpp_execution_time }}</span>
    </div>

    <div class="res java_results">
        <span class="span">Java</span>
        </br>
        <span class="answer">{{ java_result }}</span>
        </br>
        <span class="span">Total time (ms): {{ java_overall_time }}</span>
        </br>
        <span class="span">Execution time (ms): {{ java_execution_time }}</span>
    </div>
</div>

<script type="text/javascript">
    function type_symbol(element) {
        const symbol = element.getAttribute("symbol");
        const curr_calc = document.getElementById("calculation").value;
        const new_calc = curr_calc + symbol;
        document.getElementById("calculation").value = new_calc;
        document.getElementById("calculation").focus();
    }
    function clear_input() {
        document.getElementById("calculation").value = " ";
    }
</script>